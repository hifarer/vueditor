var iframeEl,iframeWin,iframeDoc,iframeBody;const veUtil={range:{get:function(){var e,t;return iframeWin&&iframeWin.getSelection&&(e=iframeWin.getSelection(),e&&0!=e.rangeCount&&(t=e.getRangeAt(0))),t}},command:{format:function(e,t,n){for(var o=[],r={fontSize:/font\-size:\s?\d+px;/g,verticalAlign:/vertical\-align:\s?(sub|super);/g},i=e.getElementsByTagName(t),a=0;a<i.length;a++){var s=i[a];1==s.attributes.length&&null!=s.getAttribute("style").match(r[n])&&(0==s.children.length?1==s.style.length?(s.parentNode.replaceChild(document.createTextNode(s.innerHTML),s),a--):s.style[n]="":o.push(s))}0!=o.length&&this.format(e,t,n)}}};!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(6),i=o(r);new Vue({el:"body",components:{vueditor:i["default"]}})},,,,,,function(e,t,n){var o,r;o=n(7),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\app.vue: named exports in *.vue files are ignored."),r=n(36),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=o(r);t["default"]={data:function(){return{currentView:"design",sourceCode:""}},components:{toolbar:i["default"]},methods:{init:function(){iframeEl=document.querySelector(".ve-iframe"),iframeWin=iframeEl.contentWindow,iframeDoc=iframeWin.document,iframeBody=iframeWin.document.body,this.setContent("<p>开始的分厘卡士大撒地方卢卡附件里是夫萨拉深刻的风景拉萨孔家店发链接啊算了function(){alert(1);}</p>"),this.addEvent()},setContent:function(e){iframeBody.innerHTML=e},addEvent:function(){var e=this;iframeDoc.addEventListener("selectionchange",this.selectionChange.bind(this),!1),-1!==navigator.userAgent.indexOf("Firefox")&&!function(){var t=iframeWin.getSelection(),n=null;setInterval(function(){t&&t.rangeCount?n!=t.focusNode&&(n=t.focusNode,this.selectionChange()):t=iframeWin.getSelection()}.bind(e),500)}()},selectionChange:function(){this.$broadcast("stateChange")}}}},function(e,t,n){var o,r;n(9),o=n(11),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\toolbar.vue: named exports in *.vue files are ignored."),r=n(35),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),a=n(17),s=o(a),l=n(22),c=o(l),d=n(27),u=o(d),f=n(30),p=o(f),m={removeformat:{title:"清除选中区域格式","class":"fa-eraser"},bold:{title:"加粗","class":"fa-bold"},italic:{title:"斜体","class":"fa-italic"},underline:{title:"下划线","class":"fa-underline"},strikethrough:{title:"中划线","class":"fa-strikethrough"},superscript:{title:"上标文字","class":"fa-superscript"},subscript:{title:"下标文字","class":"fa-subscript"},indent:{title:"增加缩进","class":"fa-indent"},outdent:{title:"减少缩进","class":"fa-outdent"},justifyleft:{title:"左对齐","class":"fa-align-left"},justifycenter:{title:"中间对齐","class":"fa-align-center"},justifyright:{title:"右对齐","class":"fa-align-right"},justifyfull:{title:"两端对齐","class":"fa-align-justify"},insertOrderedList:{title:"设置有序列表","class":"fa-list-ol"},insertUnorderedList:{title:"设置无序列表","class":"fa-list-ul"}},v={forecolor:{colorType:"forecolor"},backcolor:{colorType:"backcolor"}};t["default"]={data:function(){return{nativeBtns:m,costomBtns:v,config:["removeformat","separator","elements","fontname","fontsize","forecolor","backcolor","separator","bold","italic","underline","strikethrough","separator","subscript","superscript","separator","justifyleft","justifycenter","justifyright","justifyfull","separator","indent","outdent","separator","sourcecode"],state:[]}},props:["custom"],events:{stateChange:function(){var e={},t=this.custom||this.config;t.forEach(function(t){try{e[t]=iframeDoc.queryCommandState(t)}catch(n){}}),this.state=e},dropdownToggle:function(e){this.$children.forEach(function(t){t!==e&&(t.display=!1)})}},methods:{clickHandler:function(e,t){this.exec(e,t),this.$emit("dropdownToggle"),this.$emit("stateChange")},exec:function(e,t){if(document.queryCommandSupported("styleWithCss")&&iframeDoc.execCommand("styleWithCss",!1,!0),iframeDoc.execCommand(e,!1,t),"removeformat"==e){var n=veUtil.range.get();if(!n)return;var o=n.commonAncestorContainer;3==o.nodeType&&(o=o.parentNode),"span"==o.tagName.toLowerCase()&&(o=o.parentNode),veUtil.command.format(o,"span","verticalAlign")}}},components:{forecolor:i["default"],backcolor:i["default"],fontname:s["default"],fontsize:c["default"],sourcecode:u["default"],elements:p["default"]}}},function(e,t,n){var o,r;n(13),o=n(15),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\color.vue: named exports in *.vue files are ignored."),r=n(16),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF","#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"];t["default"]={data:function(){return{colors:n,color:"",active:!1,display:!1}},props:["param"],methods:{toggle:function(){this.$dispatch("dropdownToggle",this),this.display=!this.display},checkValid:function(e){var t=e.replace(/\s+/g,""),n=/^#[0-9a-f]{3}$/i,o=/^#[0-9a-f]{6}$/i,r=/^rgb\(((\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5]),){2}(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\)$/;return n.test(t)||o.test(t)||r.test(t)?!0:void 0},setColor:function(e,t){document.queryCommandSupported("styleWithCss")&&iframeDoc.execCommand("styleWithCss",!1,!0),iframeDoc.execCommand(e,!1,t)},clickHandler:function(e){this.setColor(this.param.colorType,e),this.display=!1},inputHandler:function(){var e=this.color,t=this.checkValid(e);t?(this.setColor(this.param.colorType,e),this.display=!1):alert("请输入正确的颜色代码。"),this.color=""}}}},function(e,t){e.exports='\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href="javascript:;" title="{{param.colorType == \'forecolor\' ? \'文字颜色\' : \'背景颜色\'}}" :class="{\'active\': display}" @click="toggle">\n  <i class="fa" :class="{\'fa-file-text\': param.colorType == \'backcolor\', \'fa-file-text-o\': param.colorType == \'forecolor\'}"></i>\n</a>\n<div class="ve-toolbar-dropdown colorpicker" v-show="display">\n  <div class="ve-input-box">\n    <input type="text" class="ve-input" placeholder="颜色代码" v-model="color">\n    <button type="button" class="ve-btn" @click="inputHandler">确定</button>\n  </div>\n  <ul>\n    <li v-for="color in colors" @click="clickHandler(color)"><a href="javascript:;" title="{{color}}" style="background:{{color}};"></a></li>\n  </ul>\n</div>\n'},function(e,t,n){var o,r;n(18),o=n(20),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\fontname.vue: named exports in *.vue files are ignored."),r=n(21),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{name:"宋体, SimSun",abbr:"宋体"},{name:"黑体, SimHei",abbr:"黑体"},{name:"楷体, SimKai",abbr:"楷体"},{name:"微软雅黑, 'Microsoft YaHei'",abbr:"微软雅黑"},{name:"arial black"},{name:"times new roman"},{name:"Courier New"}];t["default"]={data:function(){return{display:!1,fontArray:n,val:""}},methods:{toggle:function(){this.$dispatch("dropdownToggle",this),this.display=!this.display},clickHandler:function(e){document.queryCommandSupported("styleWithCss")&&iframeDoc.execCommand("styleWithCss",!1,!0),iframeDoc.execCommand("fontName",!1,e.name+", sans-serif"),this.display=!1,this.val=e.abbr||e.name}}}},function(e,t){e.exports='\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href="javascript:;" class="selectvalue font-select" @click="toggle">\n  {{val || fontArray[0].abbr}}<i v-bind:class="{\'triangle-down\': !display, \'triangle-up\': display}"></i>\n</a>\n<div class="ve-toolbar-dropdown fontname" v-show="display">\n  <ul>\n    <li v-for="font in fontArray" @click="clickHandler(font)">\n      <a href="javascript:;" style="font-family: {{font.name}}, sans-serif;">{{font.abbr || font.name}}</a>\n    </li>\n  </ul>\n</div>\n'},function(e,t,n){var o,r;n(23),o=n(25),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\fontsize.vue: named exports in *.vue files are ignored."),r=n(26),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[12,14,16,18,20,24,28,32,36];t["default"]={data:function(){return{sizeArray:n,val:"",display:!1}},methods:{toggle:function(){this.$dispatch("dropdownToggle",this),this.display=!this.display},clickHandler:function(e){var t=iframeWin.getSelection(),n=veUtil.range.get();if(!n||n.collapsed)return void(this.display=!1);var o=n.cloneContents().childNodes;if(1==o.length&&1==o[0].nodeType&&"span"==o[0].tagName.toLowerCase()){var r=n.extractContents().childNodes[0];r.style.fontSize=e+"px",n.insertNode(r),n.selectNode(r),t.removeAllRanges(),t.addRange(n)}else if(-1!=navigator.userAgent.indexOf("Chrome")&&-1==navigator.userAgent.indexOf("Edge")){document.queryCommandSupported("styleWithCss")&&iframeDoc.execCommand("styleWithCss",!1,!0),iframeDoc.execCommand("fontSize",!1,7);var i=n.commonAncestorContainer;3==i.nodeType&&(i=i.parentNode),"span"==i.tagName.toLowerCase()&&(i=i.parentNode),Array.prototype.forEach.call(i.getElementsByTagName("span"),function(t){"-webkit-xxx-large"!=t.style.fontSize.trim()&&"xx-large"!=t.style.fontSize.trim()||(t.style.fontSize=e+"px"),t.normalize()})}else{document.queryCommandSupported("styleWithCss")&&iframeDoc.execCommand("styleWithCss",!1,!1),iframeDoc.execCommand("fontSize",!1,7);var a=[],s=[],l=n.commonAncestorContainer;3==l.nodeType&&(l=l.parentNode),"font"==l.tagName.toLowerCase()&&(l=l.parentNode),a=l.getElementsByTagName("font");for(var c=function(t){var n=a[t],o=document.createElement("span");Array.prototype.forEach.call(n.attributes,function(t){"size"==t.nodeName?o.style.fontSize=e+"px":o.setAttribute(t.nodeName,t.nodeValue)}),o.innerHTML=n.innerHTML,0!=o.querySelectorAll("span").length&&veUtil.command.format(o,"span","fontSize"),o.normalize(),n.parentNode.replaceChild(o,n),s.push(o),t--,d=t},d=0;d<a.length;d++)c(d);n.setStartBefore(s[0]),n.setEndAfter(s[s.length-1]),t.removeAllRanges(),t.addRange(n)}this.display=!1,this.val=e}}}},function(e,t){e.exports='\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href="javascript:;" class="selectvalue" @click="toggle">\n  {{val || sizeArray[0]}}px<i v-bind:class="{\'triangle-down\': !display, \'triangle-up\': display}"></i>\n</a>\n<div class="ve-toolbar-dropdown fontsize" v-show="display">\n  <ul>\n    <li v-for="size in sizeArray" @click="clickHandler(size)">\n      <a href="javascript:;">{{size}}px</a>\n    </li>\n  </ul>\n</div>\n'},function(e,t,n){var o,r;o=n(28),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\code.vue: named exports in *.vue files are ignored."),r=n(29),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{editor:null}},methods:{sourceCode:function(){var e=this.$root.$children[0];"design"==e.currentView?(e.currentView="sourceCode",e.sourceCode=iframeBody.innerHTML,this.editor.setValue(beautifyHTML(iframeBody.innerHTML,{indent_inner_html:!0,indent_size:2})),setTimeout(function(){this.editor.refresh()}.bind(this),100)):(e.currentView="design",e.sourceCode=this.editor.getValue(),iframeBody.innerHTML=e.sourceCode)}},ready:function(){this.editor=CodeMirror.fromTextArea(document.getElementById("codemirror"),{mode:"htmlmixed",scrollbarStyle:"null",viewportMargin:1/0,lineNumbers:!0,lineWrapping:!0,styleActiveLine:!0,autoCloseTags:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}})}}},function(e,t){e.exports='\n\n<a href="javascript:;" title="源码" @click="sourceCode">\n  <i class="fa fa-code"></i>\n</a>\n'},function(e,t,n){var o,r;n(31),o=n(33),o&&o.__esModule&&Object.keys(o).length>1&&console.warn("[vue-loader] src\\components\\elements.vue: named exports in *.vue files are ignored."),r=n(34),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{display:!1,arr:["P","H1","H2","H3","H4","H5","H6"],val:""}},methods:{toggle:function(){this.$dispatch("dropdownToggle",this),this.display=!this.display},selectItem:function(e){var t=navigator.userAgent.toLowerCase(),n=e.target.innerHTML.trim();this.display=!1,this.val=n,(t.match(/rv:([\d.]+)\) like gecko/)||t.match(/msie ([\d.]+)/))&&iframeDoc.execCommand("formatblock",!1,"<"+n+">"),iframeDoc.execCommand("formatblock",!1,n)}}}},function(e,t){e.exports='\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href="javascript:;" class="selectvalue" @click="toggle">\n  {{val || arr[0]}}<i v-bind:class="{\'triangle-down\': !display, \'triangle-up\': display}"></i>\n</a>\n<div class="selectbox" @click="selectItem" v-show="display">\n  <a href="javascript:;" v-for="item in arr">\n    {{item}}\n  </a>\n</div>\n'},function(e,t){e.exports='\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class="ve-toolbar">\n  <div class="ve-toolbar-wrap">\n    <div v-for="item in config" class="ve-toolbar-item" unselectable="off">\n      <a v-if="nativeBtns[item]" href="javascript:;" title="{{nativeBtns[item].title}}" :class="{\'active\': state[item]}" @click="clickHandler(item, null)">\n        <i class="fa" :class="[nativeBtns[item].class]"></i>\n      </a>\n      <a v-if="item == \'separator\'" href="javascript:;" class="separator"></a>\n      <component v-else :is="item" :param="costomBtns[item]"></component>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='\n<div class="vueditor">\n  <toolbar></toolbar>\n  <div class="ve-body">\n    <div class="ve-design" v-show="currentView == \'design\'">\n      <iframe src="../dist/iframe/page.html" frameborder="0" class="ve-iframe" @load="init"></iframe>\n    </div>\n    <div class="ve-code" v-show="currentView == \'sourceCode\'">\n      <textarea name="codemirror" id="codemirror">{{sourceCode}}</textarea>\n    </div>\n  </div>\n</div>\n'}]);